---
import FeatureCarousel from '../components/islands/FeatureCarousel';
import Hero from '../components/islands/Hero';
import SectionHeading from '../components/ui/SectionHeading.astro';
import { featuredModSlugs } from '../data/featuredMods';
import { modCount } from '../data/modStats';
import { mods } from '../data/mods.generated';
import BaseLayout from '../layouts/BaseLayout.astro';
import { env } from '../lib/env';
import { featuredModsBySlug } from '../lib/modData';
import "../styles/global.css";

const showcaseMods = featuredModsBySlug(mods, featuredModSlugs, 3);

const features = [
  {
    title: 'Frostbitten biomes',
    summary: 'Custom worldgen sprinkles auroras, frozen caverns, and cozy hamlets across every seed.',
    icon: 'Biomes',
  },
  {
    title: 'Performance tuned',
    summary: 'Our Modpack bundles with multiple optimizations to keep frame rates high and stutters low.',
    icon: 'Performance',
  },
  {
    title: 'Easy debugging',
    summary: 'Our Modpack bundles with the "Crash Assistant" mod to help diagnose and fix issues quickly.',
    icon: 'Debugging',
  },
  {
    title: 'Christmas festivities',
    summary: 'We have included festive decorations, holiday-themed mobs, and seasonalities to bring the spirit of the holidays into your game.',
    icon: 'Festivities',
  },
];
const { modrinthUrl } = env;
---
<BaseLayout title="Winterlands Modpack">
  <Hero client:load modrinthUrl={modrinthUrl} modCount={modCount} />

  <section class="mx-auto mt-12 max-w-6xl px-6">
    <SectionHeading
      eyebrow="Featured Mods"
      title="Play-defining picks"
      description="These are the blocks, foods, and machines youâ€™ll touch in the first in-game day."
    />
    <div class="grid gap-6 md:grid-cols-3">
      {showcaseMods.map((mod) => (
        <article class="frosted-panel p-6">
          <p class="text-xs uppercase tracking-[0.3em] text-white/60">{mod.side}</p>
          <h3 class="mt-2 font-display text-2xl text-white">{mod.name}</h3>
          <p class="mt-3 text-white/70">{mod.summary}</p>
          <p class="mt-4 text-sm text-white/60">{mod.source === 'modrinth' ? 'Modrinth' : 'CurseForge'}</p>
        </article>
      ))}
    </div>
  </section>

  <section class="mx-auto mt-20 max-w-6xl px-6">
    <SectionHeading
      eyebrow="World Feel"
      title="Why Winterlands feels alive"
      description="Everything from ambience to automation is tuned for a cozy winter survival experience."
    />
    <FeatureCarousel client:load features={features} />
  </section>
</BaseLayout>
