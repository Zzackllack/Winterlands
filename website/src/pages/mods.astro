---
import { getCollection } from 'astro:content';
import ModGrid from '../components/islands/ModGrid.tsx';
import SectionHeading from '../components/ui/SectionHeading.astro';
import BaseLayout from '../layouts/BaseLayout.astro';

const mods = await getCollection('mods');
const modLite = mods.map((mod) => ({
  slug: mod.slug,
  name: mod.data.name,
  side: mod.data.side,
  version: mod.data.version,
  tags: mod.data.tags,
  summary: mod.body,
  homepage: mod.data.homepage,
}));
---
<BaseLayout title="Winterlands Mod List" description="Autogenerated directly from our content collections.">
  <section class="mx-auto max-w-6xl px-6 py-16">
    <SectionHeading
      eyebrow="Mods"
      title="Browse the full stack"
      description="Data comes straight from src/content/mods so updating the pack stays painless."
    />
    <ModGrid client:load mods={modLite} />
  </section>
</BaseLayout>
